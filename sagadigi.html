<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SAGARA — Sistem Digital Terpadu</title>
<link rel="icon" href="images/digitalid.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<style>
:root {
  --primary: #002b5b;
  --accent: #007acc;
  --bg: #f8fafc;
  --text: #1e293b;
  --muted: #64748b;
  --radius: 10px;
  --shadow: 0 2px 10px rgba(0,0,0,0.08);
}

/* ========== BATIK DIGITAL BACKGROUND ========== */
body {
  font-family: 'Poppins', sans-serif;
  background-color: var(--bg);
  background-image:
    radial-gradient(circle at 1px 1px, rgba(0,43,91,0.07) 1px, transparent 0),
    radial-gradient(circle at 25px 25px, rgba(0,122,204,0.05) 1px, transparent 0),
    linear-gradient(135deg, rgba(0,0,0,0.02) 25%, transparent 25%),
    linear-gradient(225deg, rgba(0,0,0,0.02) 25%, transparent 25%);
  background-size: 50px 50px, 50px 50px, 20px 20px, 20px 20px;
  color: var(--text);
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  transition: all 0.3s ease;
}

/* ========== CONTAINER DAN HEADER ========== */
.container {
  width: 100%;
  max-width: 1100px;
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}

header {
  background: var(--primary);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 22px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 10px;
}
.brand img {
  height: 42px;
  border-radius: 8px;
}

/* ========== PANEL AKSESIBILITAS ========== */
.settings-toggle {
  position: relative;
}
.access-panel {
  display: none;
  position: absolute;
  top: 40px;
  right: 0;
  background: white;
  box-shadow: var(--shadow);
  border-radius: 8px;
  padding: 12px;
  width: 220px;
  z-index: 10;
}
.access-panel.active { display: block; }
.access-panel label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 8px 0;
  font-size: 13px;
  color: var(--text);
}
.access-panel button {
  margin-top: 8px;
  width: 100%;
  border: none;
  background: var(--accent);
  color: #fff;
  border-radius: 6px;
  padding: 6px 0;
  cursor: pointer;
  font-size: 13px;
}

/* ========== KONTEN UTAMA ========== */
main {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
  gap: 20px;
  padding: 30px;
  background: #f1f5f9cc;
  backdrop-filter: blur(4px);
}
.card {
  background: #fff;
  border-radius: var(--radius);
  padding: 20px;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: all 0.2s ease;
}
.card:hover { transform: translateY(-3px); }
.card i { font-size: 26px; color: var(--accent); }
.card h3 { color: var(--primary); margin: 8px 0 6px; }
.card p { color: var(--muted); font-size: 13px; flex-grow: 1; }
.btn {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.2s ease;
}
.btn:hover { background: #005b96; }

/* ========== FORM WHATSAPP ========== */
.wa-form {
  display: none;
  flex-direction: column;
  gap: 8px;
  margin-top: 10px;
}
.wa-form input, .wa-form textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  font-family: inherit;
  font-size: 13px;
  background: #f9fafb;
}
.wa-form input:focus, .wa-form textarea:focus {
  outline: none;
  border-color: var(--accent);
  background: #fff;
}
textarea { resize: vertical; min-height: 80px; }

/* ========== FOOTER ========== */
footer {
  background: var(--primary);
  color: #fff;
  text-align: center;
  font-size: 12px;
  padding: 12px 10px;
}

/* ========== AKSESIBILITAS ========== */
body.dark { background: #0f172a; color: #e2e8f0; }
body.dark .container { background: #1e293b; }
body.dark .card { background: #243047; }
body.high-contrast { filter: contrast(1.4) brightness(1.1); }
body.large-text { font-size: 17px; }

/* ========== RESPONSIVE ========== */
@media (max-width:600px){
  header {
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: space-between;
  }
  .brand h1 { font-size: 15px; }
}

</style>
</head>
<body>
<div class="container">
  <header>
    <div class="brand">
      <img src="images/digitalid.png" alt="Logo SAGARA">
      <h1>Sistem Digital Terpadu - SAGARA</h1>
    </div>
    <div class="settings-toggle">
      <i class="bi bi-gear-fill" id="toggleBtn" style="font-size:16px;cursor:pointer;"></i>
      <div class="access-panel" id="accessPanel">
        <label>Mode Gelap <input type="checkbox" id="darkMode"></label>
        <label>Teks Besar <input type="checkbox" id="largeText"></label>
        <label>Kontras Tinggi <input type="checkbox" id="highContrast"></label>
        <label>Text to Speech <input type="checkbox" id="ttsToggle"></label>
        <button id="resetBtn">Reset</button>
      </div>
    </div>
  </header>

  <main id="mainContent">
    <div class="card">
      <i class="bi bi-envelope-paper"></i>
      <h3>SISARA</h3>
      <p>Manajemen surat dan administrasi internal organisasi.</p>
      <a href="sisara.html" class="btn">Akses Sisara</a>
    </div>

    <div class="card">
      <i class="bi bi-envelope-paper"></i>
      <h3>SILENSI</h3>
      <p>Pencatatan dan notulensi kegiatan serta rapat.</p>
      <a href="silensi.html" class="btn">Akses Silensi</a>
    </div>

    <div class="card">
      <i class="bi bi-wallet2"></i>
      <h3>SIMPELKAS</h3>
      <p>Pengelolaan kas kecil dan laporan keuangan operasional.</p>
      <a href="simpelkas.html" class="btn">Akses Simpelkas</a>
    </div>

    <div class="card">
      <i class="bi bi-person-badge"></i>
      <h3>CEK KEANGGOTAAN</h3>
      <p>Lihat data dan informasi anggota aktif SAGARA.</p>
      <a href="profile.html" class="btn">Lihat Data Anggota</a>
    </div>

    <div class="card">
      <i class="bi bi-whatsapp"></i>
      <h3>BANTUAN DEVELOPER</h3>
      <p>Kirim pertanyaan atau laporan langsung ke pengembang via WhatsApp.</p>
      <button class="btn" onclick="toggleWAForm()">Hubungi via WhatsApp</button>
      <form class="wa-form" id="waForm" onsubmit="sendWhatsApp(event)">
        <input type="text" id="nama" placeholder="Nama Anda" required>
        <input type="text" id="keperluan" placeholder="Keperluan" required>
        <textarea id="pesan" placeholder="Pesan Anda..." required></textarea>
        <button type="submit" class="btn">Kirim</button>
      </form>
    </div>
   <div class="card" id="systemInfoCard">
  <i class="bi bi-clock-history"></i>
  <h3>Informasi Sistem</h3>
  <p id="systemInfo" style="font-size:13px; color:var(--muted); line-height:1.4;">
    Memuat informasi...
  </p>
</div>

<script>
// =======================
// Format tanggal & jam
// =======================
function formatDateTime(dt){
  const options={weekday:'short', year:'numeric', month:'short', day:'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit'};
  return dt.toLocaleDateString('id-ID', options);
}

// =======================
// Durasi kunjungan user
// =======================
function getVisitDuration(){
  if(!localStorage.getItem('visitStart')){
    localStorage.setItem('visitStart', Date.now());
  }
  const start=Number(localStorage.getItem('visitStart'));
  const diffMs=Date.now()-start;
  const sec=Math.floor(diffMs/1000)%60;
  const min=Math.floor(diffMs/60000)%60;
  const hr=Math.floor(diffMs/3600000);
  return `${hr}h ${min}m ${sec}s`;
}

// =======================
// Random user aktif (1-9) per kunjungan
// =======================
function getRandomActiveUsers(){
  if(!sessionStorage.getItem('activeUsers')){
    const randomUsers=Math.floor(Math.random()*9)+1; // 1-9
    sessionStorage.setItem('activeUsers', randomUsers);
  }
  return Number(sessionStorage.getItem('activeUsers'));
}

// =======================
// Ambil IP publik
// =======================
async function fetchIP(){
  try{
    const res=await fetch('https://api.ipify.org?format=json');
    const data=await res.json();
    return data.ip;
  } catch(err){
    return 'IP tidak tersedia';
  }
}

// =======================
// Update card sistem
// =======================
async function updateSystemInfo(){
  const now=new Date();
  const ip=await fetchIP();
  const duration=getVisitDuration();
  const activeUsers=getRandomActiveUsers();

  document.getElementById('systemInfo').innerHTML=
    `Tanggal & Jam: <b>${formatDateTime(now)}</b><br>`+
    `IP Publik: <b>${ip}</b><br>`+
    `Lama Anda di Website: <b>${duration}</b><br>`+
    `User Aktif Saat Ini: <b>${activeUsers}</b>`;
}

// Jalankan setiap detik agar jam & durasi live
updateSystemInfo();
setInterval(updateSystemInfo,1000);

</script>

  </main>


  <footer>
    © 2025 SAGARA — Sistem Digital Terpadu. Seluruh hak cipta dilindungi.
  </footer>
</div>

<script>
const toggleBtn=document.getElementById('toggleBtn');
const accessPanel=document.getElementById('accessPanel');
toggleBtn.onclick=()=>accessPanel.classList.toggle('active');

function toggleWAForm(){
  const form=document.getElementById('waForm');
  form.style.display=(form.style.display==='flex')?'none':'flex';
}

function sendWhatsApp(e){
  e.preventDefault();
  const nama=document.getElementById('nama').value;
  const keperluan=document.getElementById('keperluan').value;
  const pesan=document.getElementById('pesan').value;
  const text=`Halo, saya ${nama}.%0AKeperluan: ${keperluan}%0A%0A${pesan}`;
  window.open(`https://wa.me/6282136065407?text=${text}`,'_blank');
}

const dm=document.getElementById('darkMode');
const hc=document.getElementById('highContrast');
const lt=document.getElementById('largeText');
const tts=document.getElementById('ttsToggle');

function applySettings(){
  document.body.classList.toggle('dark',dm.checked);
  document.body.classList.toggle('high-contrast',hc.checked);
  document.body.classList.toggle('large-text',lt.checked);
  localStorage.setItem('settings',JSON.stringify({dark:dm.checked,hc:hc.checked,lt:lt.checked}));
}
[dm,hc,lt].forEach(el=>el.addEventListener('change',applySettings));

tts.addEventListener('change',()=>{
  if(tts.checked){
    speechSynthesis.speak(new SpeechSynthesisUtterance('Mode text to speech aktif.'));
  } else speechSynthesis.cancel();
});

document.getElementById('resetBtn').onclick=()=>{
  dm.checked=hc.checked=lt.checked=tts.checked=false;
  applySettings();
  speechSynthesis.cancel();
};

window.onload=()=>{
  const saved=JSON.parse(localStorage.getItem('settings')||'{}');
  dm.checked=saved.dark||false;
  hc.checked=saved.hc||false;
  lt.checked=saved.lt||false;
  applySettings();
};
</script>
</body>
</html>
